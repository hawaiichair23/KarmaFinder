<!DOCTYPE html>
<html lang="en">

<body>
<head>
<style>

        .theme-toggle {
            position: fixed;
            top: 16px;
            left: 20px;
            right: unset;
            width: 50px;
            height: 50px;
            padding: 4px;
            background: transparent;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10000;
        }

        .theme-toggle img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: filter 0.3s ease;
        }

</style>
<script>
    try {
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
        }
    } catch (e) { }



    <button id="themeToggle" class="theme-toggle" aria-label="Toggle Dark Mode">
            <img id="themeIcon" src="moon.png" alt="Toggle theme" />
        </button>

  
            document.addEventListener('DOMContentLoaded', () => {
                const icon = document.getElementById('themeIcon');
                const isDark = document.documentElement.classList.contains('dark-mode');

                if (icon) {
                    icon.src = isDark ? 'sun.png' : 'moon.png';
                    icon.alt = isDark ? 'Switch to light mode' : 'Switch to dark mode';
                }
            });

    const themeToggle = document.getElementById('themeToggle');
    const icon = document.getElementById('themeIcon');


    // Update icon to match stored theme on page load
    document.addEventListener('DOMContentLoaded', () => {
        const isDark = document.body.classList.contains('dark-mode');
        if (icon) {
            icon.src = isDark ? 'sun.png' : 'moon.png';
            icon.alt = isDark ? 'Switch to light mode' : 'Switch to dark mode';
        }
    });

      // Toggle logic
        themeToggle.addEventListener('click', () => {
            document.body.classList.add('theme-transition');

            const isDark = document.body.classList.toggle('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');

            if (icon) {
                icon.src = isDark ? 'sun.png' : 'moon.png';
                icon.alt = isDark ? 'Switch to light mode' : 'Switch to dark mode';
            }

            setTimeout(() => {
                document.body.classList.remove('theme-transition');
            }, 300);
        });

</script>